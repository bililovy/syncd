{"version":3,"sources":["webpack:///./src/view/Login.vue?d118","webpack:///./src/api/login.js","webpack:///./src/view/Login.vue?e0f1","webpack:///src/view/Login.vue","webpack:///./src/view/Login.vue?368a","webpack:///./src/view/Login.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0___default","n","d","__webpack_exports__","loginApi","loginStatusApi","logoutApi","_lib_fetch_js__WEBPACK_IMPORTED_MODULE_0__","data","post","get","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","backgroundColor","bgColor","_v","_s","$t","ref","attrs","model","loginForm","rules","loginRules","size","prop","placeholder","prefix-icon","autocomplete","value","callback","$$v","$set","expression","type","staticStyle","width","on","click","loginHandler","Date","getFullYear","href","target","staticRenderFns","Loginvue_type_script_lang_js_","loginLoadding","username","password","required","message","trigger","min","max","computed","alpha","Math","abs","getHours","concat","methods","_this","$refs","loginFormRef","validate","valid","postData","$root","Md5Sum","Object","login","then","res","SetLoginToken","token","$router","push","name","catch","err","code","CODE_ERR_LOGIN_FAILED","$message","error","view_Loginvue_type_script_lang_js_","component","componentNormalizer","options","__file"],"mappings":"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","file":"js/chunk-ec4f13a4.d88dda1a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"","import {get, post} from '@/lib/fetch.js'\n\nexport function loginApi(data) {\n    return post('/login', data)\n}\n\nexport function loginStatusApi() {\n    return get(\"/login/status\")\n}\n\nexport function logoutApi() {\n    return post('/logout')\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-login\"},[_c('div',{staticClass:\"app-login-inner\",style:({backgroundColor: _vm.bgColor})},[_c('div',{staticClass:\"login-container\"},[_c('el-card',{staticClass:\"login-box\"},[_c('div',{staticClass:\"login-title\"},[_vm._v(_vm._s(_vm.$t('welcome_to_login_syncd')))]),_c('el-form',{ref:\"loginFormRef\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"size\":\"medium\"}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('username_or_email'),\"prefix-icon\":\"iconfont icon-user\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('password'),\"prefix-icon\":\"iconfont icon-lock\",\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loginHandler}},[_vm._v(_vm._s(_vm.$t('login')))])],1)],1)],1)],1),_c('div',{staticClass:\"login-cpy\"},[_vm._v(\"\\n            ©️ \"+_vm._s(new Date().getFullYear())+\" \"),_c('a',{attrs:{\"href\":\"https://github.com/dreamans/syncd\",\"target\":\"_blank\"}},[_vm._v(\"Syncd\")]),_vm._v(\". All Rights Reserved. MIT License.\\n        \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"app-login\">\n        <div class=\"app-login-inner\" :style=\"{backgroundColor: bgColor}\">\n            <div class=\"login-container\">\n                <el-card class=\"login-box\">\n                    <div class=\"login-title\">{{ $t('welcome_to_login_syncd') }}</div>\n                    <el-form ref=\"loginFormRef\" :model=\"loginForm\" :rules=\"loginRules\" size=\"medium\" class=\"login-form\">\n                        <el-form-item  prop=\"username\">\n                            <el-input :placeholder=\"$t('username_or_email')\" prefix-icon=\"iconfont icon-user\" v-model=\"loginForm.username\" autocomplete=\"off\"></el-input>\n                        </el-form-item>\n                        <el-form-item prop=\"password\">\n                            <el-input :placeholder=\"$t('password')\" prefix-icon=\"iconfont icon-lock\" type=\"password\" v-model=\"loginForm.password\" autocomplete=\"off\"></el-input>\n                        </el-form-item>\n                        <el-form-item>\n                            <el-button @click=\"loginHandler\" type=\"primary\" style=\"width: 100%;\">{{ $t('login') }}</el-button>\n                        </el-form-item>\n                    </el-form>\n                </el-card>\n            </div>\n            <div class=\"login-cpy\">\n                ©️ {{ new Date().getFullYear() }} <a href=\"https://github.com/dreamans/syncd\" target=\"_blank\">Syncd</a>. All Rights Reserved. MIT License.\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { loginApi } from '@/api/login'\nimport Code from '@/lib/code'\nexport default {\n    data () {\n        return {\n            loginLoadding: false,\n            loginForm: {\n                username: \"\",\n                password: \"\",\n            },\n            loginRules: {\n                username: [{ required: true, message: this.$t('please_input_loginname'), trigger: 'blur' }],\n                password: [\n                    { required: true, message: this.$t('please_input_password'), trigger: 'blur' },\n                    { min: 6, max: 20, message: this.$t('strlen_between', {min: 6, max: 20}), trigger: 'blur' },\n                ],\n            },\n        }\n    },\n    computed: {\n        bgColor() {\n            let alpha = Math.min(Math.abs(new Date().getHours() - 12) / 10, 0.80)\n            return `rgba(0, 0, 0, ${alpha})`\n        },\n    },\n    methods: {\n        loginHandler() {\n            this.$refs.loginFormRef.validate((valid) => {\n                if (!valid) {\n                    return false\n                }\n                let postData = {\n                    username: this.loginForm.username,\n                    password: this.$root.Md5Sum(this.loginForm.password),\n                }\n                loginApi(postData).then(res => {\n                    this.$root.SetLoginToken(res.token)\n                    this.$router.push({name: 'dashboard'})\n                }).catch(err => {\n                    if (err.code && err.code == Code.CODE_ERR_LOGIN_FAILED) {\n                        this.$message.error('登录失败, 错误信息: ' + err.message);\n                    }\n                })\n            });\n        },\n    },\n}\n</script>\n\n<style lang=\"scss\" scope>\n.app-login {\n    width: 100%;\n    height: 100%;\n    background-image: url('../asset/login_bg.jpg');\n    background-position: 50%;\n    background-size: cover;\n    .app-login-inner {\n        width: 100%;\n        height: 100%;\n    }\n    .login-container {\n        display: flex;\n        justify-content: center;\n        .login-box {\n            margin-top: 20vh;\n            width: 30vw;\n            .login-title {\n                font-weight: 500;\n                text-align: center;\n                font-size: 14px;\n                margin-bottom: 20px;\n            }\n        }\n    }\n    .login-cpy {\n        display: flex;\n        justify-content: center;\n        margin-top: 30px;\n        color: #fff;\n        a {\n            margin: 0 5px;\n            color: #fff;\n        }\n    }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=15321b82&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports"],"sourceRoot":""}