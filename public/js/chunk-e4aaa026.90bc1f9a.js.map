{"version":3,"sources":["webpack:///./src/view/deploy/Release.vue?b4e9","webpack:///src/view/deploy/Release.vue","webpack:///./src/view/deploy/Release.vue?df84","webpack:///./src/view/deploy/Release.vue","webpack:///./src/api/deploy.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","shadow","slot","_v","deployDetail","status","_e","_s","$t","gutter","span","applyDetail","name","projectDetail","deploy_mode","branch_name","commit_version","username","email","$root","FormatDateTime","ctime","description","loading","buildDetail","size","icon","type","on","click","startBuildHandler","stopBuildHandler","start_time","FormatDateDuration","finish_time","isStopBuildLoading","openDialogBuildHandler","tar","startDeployHandler","stopDeployHandler","rollback_id","rollbackDeployHandler","title","show-icon","closable","rollback_status","href","rollback_apply_id","target","value","online_cluster_ids","_l","c","key","id","groupStatus","s","ip","undefined","servers","$event","openDialogDeployHandler","width","DialogNormalWidth","visible","dialogBuildVisible","update:visible","close","closeDialogBuildHandler","errmsg","cmd","index","class","app-color-success","success","app-color-error","stdout","stderr","dialogDeployVisible","closeDialogDeployHandler","serverDeployDetail","staticRenderFns","Releasevue_type_script_lang_js_","data","onlineCluster","watch","_this","clusters","forEach","cluster_list","cluster","server_list","group_id","push","methods","vm","ConfirmDelete","Object","deploy","then","res","srv","console","log","arrOutput","JSON","parse","output","err","_this2","loadBuildStatus","_this3","_this4","loadDeployStatus","catch","code","CODE_ERR_NO_DATA","$confirm","confirmButtonText","cancelButtonText","deployStatusDetail","detail","task_list","groupStatusList","groupIds","server_id","gid","none","indexOf","ing","done","failed","terminate","_this5","setTimeout","_this6","initApplyDetail","_this7","project_id","mounted","$route","query","deploy_Releasevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","__webpack_require__","d","applyProjectDetailApi","applySubmitApi","applyProjectAllApi","applyListApi","applyDetailApi","applyAuditApi","applyUpdateApi","applyDropApi","applyRollbackListApi","buildStartApi","buildStatusApi","buildStopApi","deployStart","deployStatusApi","deployStopApi","deployRollbackApi","_lib_fetch_js__WEBPACK_IMPORTED_MODULE_0__","params","get","post","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","match","e","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","Array","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","i","length","explicit","Collection","proto"],"mappings":"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","file":"js/chunk-e4aaa026.90bc1f9a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-release\"},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"\\n                部署发布单 - \\n                \"),(_vm.deployDetail.status == 1)?_c('span',[_vm._v(\"待上线\")]):_vm._e(),(_vm.deployDetail.status == 2)?_c('span',{staticClass:\"app-color-info\"},[_vm._v(_vm._s(_vm.$t('onlineing')))]):_vm._e(),(_vm.deployDetail.status == 3)?_c('span',{staticClass:\"app-color-success\"},[_vm._v(_vm._s(_vm.$t('have_onlined')))]):_vm._e(),(_vm.deployDetail.status == 4)?_c('span',{staticClass:\"app-color-error\"},[_vm._v(_vm._s(_vm.$t('online_failed')))]):_vm._e(),(_vm.deployDetail.status == 6)?_c('span',{staticClass:\"app-color-error\"},[_vm._v(_vm._s(_vm.$t('rollback')))]):_vm._e()])]),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":10}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('apply_order'))+\":\")]),_c('span',[_vm._v(_vm._s(this.applyDetail.name))])]),_c('el-col',{attrs:{\"span\":14}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('belong_project'))+\":\")]),_c('span',[_vm._v(_vm._s(this.projectDetail.name))])])],1),_c('el-row',{staticClass:\"app-mt-20\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":10}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('deploy_mode'))+\":\")]),(this.projectDetail.deploy_mode == 1)?_c('span',[_c('i',{staticClass:\"iconfont icon-branch\"}),_vm._v(\" \"+_vm._s(_vm.$t('branch_deploy'))+\" - \"+_vm._s(_vm.applyDetail.branch_name)+\" - commit:\"),(_vm.applyDetail.commit_version != '')?[_vm._v(_vm._s(_vm.applyDetail.commit_version))]:[_vm._v(\"HEAD\")]],2):_c('span',[_c('i',{staticClass:\"iconfont icon-tag\"}),_vm._v(\" \"+_vm._s(_vm.$t('tag_deploy'))+\" - \"+_vm._s(_vm.applyDetail.branch_name)+\"\\n                \")])]),_c('el-col',{attrs:{\"span\":14}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('submiter'))+\":\")]),_c('span',[_vm._v(_vm._s(_vm.applyDetail.username)+\" - \"+_vm._s(_vm.applyDetail.email)+\" - \"+_vm._s(_vm.$root.FormatDateTime(_vm.applyDetail.ctime)))])])],1),_c('el-row',{staticClass:\"app-mt-20\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":16}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('description'))+\":\")]),_c('span',[_vm._v(_vm._s(_vm.applyDetail.description))])])],1),_c('div',{staticClass:\"app-divider\"}),_c('div',[(_vm.deployDetail.status == 1 || _vm.deployDetail.status == 2 || _vm.deployDetail.status == 4)?[_c('el-button',{attrs:{\"loading\":_vm.buildDetail.status == 1,\"size\":\"medium\",\"icon\":\"iconfont small left icon-build\",\"type\":\"primary\"},on:{\"click\":_vm.startBuildHandler}},[_vm._v(_vm._s(_vm.$t('build')))]),(_vm.buildDetail.status == 1)?_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"warning\",\"icon\":\"iconfont small left icon-stop\"},on:{\"click\":_vm.stopBuildHandler}},[_vm._v(_vm._s(_vm.$t('forced_termination')))]):_vm._e()]:_vm._e(),_c('el-row',{staticClass:\"app-mt-20\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":10}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('last_buid_time'))+\":\")]),(_vm.buildDetail.start_time)?_c('span',[_vm._v(_vm._s(_vm.$root.FormatDateTime(_vm.buildDetail.start_time)))]):_vm._e(),(_vm.buildDetail.finish_time)?_c('span',[_vm._v(\" - \"+_vm._s(_vm.$t('cost_time'))+\": \"+_vm._s(_vm.$root.FormatDateDuration((_vm.buildDetail.finish_time-_vm.buildDetail.start_time) * 1000)))]):_vm._e()]),_c('el-col',{attrs:{\"span\":14}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('status'))+\":\")]),_c('span',[(_vm.isStopBuildLoading && _vm.buildDetail.status == 1)?_c('span',{staticClass:\"app-color-warning\"},[_vm._v(\"\\n                            \"+_vm._s(_vm.$t('stopping'))+\"...\\n                        \")]):(_vm.buildDetail.status == 1)?_c('span',{staticClass:\"app-color-info\"},[_vm._v(_vm._s(_vm.$t('building'))+\"...\")]):(_vm.buildDetail.status == 2)?_c('span',{staticClass:\"app-color-success\"},[_vm._v(_vm._s(_vm.$t('build_finish')))]):(_vm.buildDetail.status == 3)?_c('span',{staticClass:\"app-color-error\"},[_vm._v(_vm._s(_vm.$t('build_failed')))]):_c('span',[_vm._v(\"\\n                            \"+_vm._s(_vm.$t('unbuild'))+\"\\n                        \")])])])],1),_c('el-row',{staticClass:\"app-mt-20\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":10}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('build_log'))+\":\")]),(_vm.buildDetail.status == 2 || _vm.buildDetail.status == 3)?_c('span',[_c('span',{staticClass:\"app-link\",on:{\"click\":_vm.openDialogBuildHandler}},[_vm._v(_vm._s(_vm.$t('view')))])]):_vm._e()]),_c('el-col',{attrs:{\"span\":14}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('tar_pack_path'))+\":\")]),(_vm.buildDetail.tar)?_c('span',[_vm._v(_vm._s(_vm.buildDetail.tar))]):_c('span',[_vm._v(_vm._s(_vm.$t('uncreate')))])])],1)],2),_c('div',{staticClass:\"app-divider\"}),_c('div',[(_vm.deployDetail.status == 1 || _vm.deployDetail.status == 2)?_c('el-button',{attrs:{\"loading\":_vm.deployDetail.status == 2,\"size\":\"medium\",\"icon\":\"iconfont small left icon-send\",\"type\":\"primary\"},on:{\"click\":_vm.startDeployHandler}},[_vm._v(_vm._s(_vm.$t('deploy')))]):_vm._e(),(_vm.deployDetail.status == 4)?_c('el-button',{attrs:{\"loading\":_vm.deployDetail.status == 2,\"size\":\"medium\",\"icon\":\"iconfont small left icon-send\",\"type\":\"primary\"},on:{\"click\":_vm.startDeployHandler}},[_vm._v(_vm._s(_vm.$t('rebuild')))]):_vm._e(),(_vm.deployDetail.status == 2)?_c('el-button',{attrs:{\"size\":\"medium\",\"icon\":\"iconfont small left icon-stop\",\"type\":\"warning\"},on:{\"click\":_vm.stopDeployHandler}},[_vm._v(_vm._s(_vm.$t('forced_termination')))]):_vm._e(),((_vm.deployDetail.status == 3 || _vm.deployDetail.status == 4) && _vm.applyDetail.rollback_id)?_c('div',[_c('el-button',{attrs:{\"icon\":\"iconfont small left icon-rollback\",\"size\":\"medium\",\"type\":\"danger\"},on:{\"click\":_vm.rollbackDeployHandler}},[_vm._v(_vm._s(_vm.$t('rollback')))]),_c('el-alert',{staticClass:\"app-mt-10\",attrs:{\"title\":_vm.$t('rollback_apply_order_tips'),\"type\":\"warning\"}})],1):_vm._e(),(_vm.deployDetail.status == 6)?_c('div',[_c('el-alert',{attrs:{\"type\":\"warning\",\"show-icon\":\"\",\"closable\":false}},[_c('template',{slot:\"title\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_created')))]),_vm._v(\"\\n                        -\\n                        \"),(_vm.applyDetail.rollback_status == 1)?_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_unstart')))]):(_vm.applyDetail.rollback_status == 2)?_c('strong',[_vm._v(_vm._s(_vm.$t('rollbacking')))]):(_vm.applyDetail.rollback_status == 3)?_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_success')))]):(_vm.applyDetail.rollback_status == 4)?_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_failed')))]):(_vm.applyDetail.rollback_status == 5)?_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_drop')))]):_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_unknow')))]),_vm._v(\"\\n                        -\\n                        \"),_c('a',{staticClass:\"app-link\",attrs:{\"href\":'/deploy/release?id=' + _vm.applyDetail.rollback_apply_id,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.$t('click_to_view_rollback_order')))])])],2)],1):_vm._e(),_c('el-card',{staticClass:\"app-mt-20 app-cluster-group\",attrs:{\"shadow\":\"never\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(_vm._s(_vm.$t('cluster_list')))]),_c('el-collapse',{attrs:{\"value\":_vm.projectDetail.online_cluster_ids}},_vm._l((_vm.onlineCluster),function(c){return _c('el-collapse-item',{key:c.id,staticClass:\"app-cluster-item\",attrs:{\"name\":c.id}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"iconfont small left icon-cluster\"}),_vm._v(\"\\n                            \"+_vm._s(c.name)+\"  \\n                            \"),(_vm.deployDetail.groupStatus[c.id] == 0)?_c('span',{staticClass:\"app-color-gray\"},[_c('i',{staticClass:\"iconfont small left icon-wait\"}),_vm._v(_vm._s(_vm.$t('wait_deploy')))]):(_vm.deployDetail.groupStatus[c.id] == 1)?_c('span',{staticClass:\"app-color-info\"},[_c('i',{staticClass:\"iconfont el-icon-loading\"}),_vm._v(_vm._s(_vm.$t('deploying')))]):(_vm.deployDetail.groupStatus[c.id] == 2)?_c('span',{staticClass:\"app-color-success\"},[_c('i',{staticClass:\"iconfont small left icon-success\"}),_vm._v(_vm._s(_vm.$t('deploy_success')))]):(_vm.deployDetail.groupStatus[c.id] == 3)?_c('span',{staticClass:\"app-color-error\"},[_c('i',{staticClass:\"iconfont small left icon-failed\"}),_vm._v(_vm._s(_vm.$t('deploy_failed')))]):(_vm.deployDetail.groupStatus[c.id] == 4)?_c('span',{staticClass:\"app-color-warning\"},[_c('i',{staticClass:\"iconfont small left icon-stop\"}),_vm._v(_vm._s(_vm.$t('be_deined')))]):_vm._e()]),_vm._l((c.servers),function(s){return _c('div',{key:s.id,staticClass:\"app-item\"},[_c('i',{staticClass:\"iconfont small left icon-server\"}),_vm._v(\"\\n                            \"+_vm._s(s.ip)+\" - \"+_vm._s(s.name)+\"\\n                            \"),(_vm.deployDetail.servers[s.id] == undefined)?_c('span'):(_vm.deployDetail.servers[s.id].status == 0)?_c('span',{staticClass:\"app-color-gray\"},[_c('i',{staticClass:\"iconfont small left icon-wait\"})]):(_vm.deployDetail.servers[s.id].status == 1)?_c('span',{staticClass:\"app-color-info\"},[_c('i',{staticClass:\"iconfont el-icon-loading\"})]):(_vm.deployDetail.servers[s.id].status == 2)?_c('span',{staticClass:\"app-color-success\"},[_c('i',{staticClass:\"iconfont small left icon-success\"}),_c('span',{staticClass:\"app-link\",on:{\"click\":function($event){_vm.openDialogDeployHandler(_vm.deployDetail.servers[s.id])}}},[_vm._v(_vm._s(_vm.$t('view')))])]):(_vm.deployDetail.servers[s.id].status == 3)?_c('span',{staticClass:\"app-color-error\"},[_c('i',{staticClass:\"iconfont small left icon-failed\"}),_c('span',{staticClass:\"app-link\",on:{\"click\":function($event){_vm.openDialogDeployHandler(_vm.deployDetail.servers[s.id])}}},[_vm._v(_vm._s(_vm.$t('view')))])]):(_vm.deployDetail.servers[s.id].status == 4)?_c('span',{staticClass:\"app-color-warning\"},[_c('i',{staticClass:\"iconfont small left icon-stop\"})]):_vm._e()])})],2)}),1)],1)],1)],1),_c('el-dialog',{attrs:{\"width\":_vm.$root.DialogNormalWidth,\"title\":_vm.$t('build_log'),\"visible\":_vm.dialogBuildVisible},on:{\"update:visible\":function($event){_vm.dialogBuildVisible=$event},\"close\":_vm.closeDialogBuildHandler}},[(_vm.buildDetail.status == 3)?_c('div',[_c('i',{staticClass:\"app-color-error el-icon-warning\"}),_vm._v(\" \"+_vm._s(_vm.$t('build_failed'))+\": \"),(_vm.buildDetail.errmsg)?_c('span',{staticClass:\"app-color-error\"},[_vm._v(_vm._s(_vm.buildDetail.errmsg))]):_vm._e()]):_vm._e(),(_vm.buildDetail.status == 2)?_c('div',[_c('i',{staticClass:\"app-color-success el-icon-success\"}),_vm._v(\" \"+_vm._s(_vm.$t('build_finish')))]):_vm._e(),_c('div',{staticClass:\"app-terminal-log\"},[_vm._l((_vm.buildDetail.output),function(cmd,index){return [_c('div',{key:index},[_c('div',{staticClass:\"terminal-cmd\",class:{ 'app-color-success': cmd.success, 'app-color-error': !cmd.success}},[_vm._v(\"\\n                        [cmd] $ \"+_vm._s(cmd.cmd)+\"\\n                        \"),(cmd.success)?_c('span',{staticClass:\"iconfont icon-right\"}):_c('span',{staticClass:\"iconfont icon-wrong\"})]),_c('div',[_c('pre',[_vm._v(_vm._s(cmd.stdout))])]),_c('div',[_c('pre',[_vm._v(_vm._s(cmd.stderr))])])])]})],2)]),_c('el-dialog',{attrs:{\"width\":_vm.$root.DialogNormalWidth,\"title\":_vm.$t('deploy_log'),\"visible\":_vm.dialogDeployVisible},on:{\"update:visible\":function($event){_vm.dialogDeployVisible=$event},\"close\":_vm.closeDialogDeployHandler}},[(_vm.serverDeployDetail.status == 3)?_c('div',[_c('i',{staticClass:\"app-color-error el-icon-warning\"}),_vm._v(\" \"+_vm._s(_vm.$t('deploy_failed'))+\": \"),(_vm.serverDeployDetail.errmsg)?_c('span',{staticClass:\"app-color-error\"},[_vm._v(_vm._s(_vm.serverDeployDetail.errmsg))]):_vm._e()]):_vm._e(),(_vm.serverDeployDetail.status == 2)?_c('div',[_c('i',{staticClass:\"app-color-success el-icon-success\"}),_vm._v(\" \"+_vm._s(_vm.$t('deploy_success')))]):_vm._e(),_c('div',{staticClass:\"app-terminal-log\"},[_vm._l((_vm.serverDeployDetail.output),function(cmd,index){return [_c('div',{key:index},[_c('div',{staticClass:\"terminal-cmd\",class:{ 'app-color-success': cmd.success, 'app-color-error': !cmd.success}},[_vm._v(\"\\n                        [cmd] $ \"+_vm._s(cmd.cmd)+\"\\n                        \"),(cmd.success)?_c('span',{staticClass:\"iconfont icon-right\"}):_c('span',{staticClass:\"iconfont icon-wrong\"})]),_c('div',[_c('pre',[_vm._v(_vm._s(cmd.stdout))])]),_c('div',[_c('pre',[_vm._v(_vm._s(cmd.stderr))])])])]})],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"app-release\">\n        <el-card shadow=\"never\">\n            <div slot=\"header\" class=\"clearfix\">\n                <span>\n                    部署发布单 - \n                    <span v-if=\"deployDetail.status == 1\">待上线</span>\n                    <span v-if=\"deployDetail.status == 2\" class=\"app-color-info\">{{ $t('onlineing') }}</span>\n                    <span v-if=\"deployDetail.status == 3\" class=\"app-color-success\">{{ $t('have_onlined') }}</span>\n                    <span v-if=\"deployDetail.status == 4\" class=\"app-color-error\">{{ $t('online_failed') }}</span>\n                    <span v-if=\"deployDetail.status == 6\" class=\"app-color-error\">{{ $t('rollback') }}</span>\n                </span>\n            </div>\n            <el-row :gutter=\"20\">\n                <el-col :span=\"10\">\n                    <span class=\"sp-title\">{{ $t('apply_order') }}:</span>\n                    <span>{{ this.applyDetail.name }}</span>\n                </el-col>\n                <el-col :span=\"14\">\n                    <span class=\"sp-title\">{{ $t('belong_project') }}:</span>\n                    <span>{{ this.projectDetail.name }}</span>\n                </el-col>\n            </el-row>\n            <el-row class=\"app-mt-20\" :gutter=\"20\">\n                <el-col :span=\"10\">\n                    <span class=\"sp-title\">{{ $t('deploy_mode') }}:</span>\n                    <span v-if=\"this.projectDetail.deploy_mode == 1\">\n                        <i class=\"iconfont icon-branch\"></i> {{ $t('branch_deploy') }} - {{ applyDetail.branch_name }} - commit:<template v-if=\"applyDetail.commit_version != ''\">{{ applyDetail.commit_version }}</template><template v-else>HEAD</template>\n                    </span>\n                    <span v-else>\n                        <i class=\"iconfont icon-tag\"></i> {{ $t('tag_deploy') }} - {{ applyDetail.branch_name }}\n                    </span>\n                </el-col>\n                <el-col :span=\"14\">\n                    <span class=\"sp-title\">{{ $t('submiter') }}:</span>\n                    <span>{{ applyDetail.username }} - {{ applyDetail.email }} - {{ $root.FormatDateTime(applyDetail.ctime) }}</span>\n                </el-col>\n            </el-row>\n            <el-row class=\"app-mt-20\" :gutter=\"20\">\n                <el-col :span=\"16\">\n                    <span class=\"sp-title\">{{ $t('description') }}:</span>\n                    <span>{{ applyDetail.description }}</span>\n                </el-col>\n            </el-row>\n            <div class=\"app-divider\"></div>\n            <div>\n                <template v-if=\"deployDetail.status == 1 || deployDetail.status == 2 || deployDetail.status == 4\">\n                    <el-button :loading=\"buildDetail.status == 1\" @click=\"startBuildHandler\" size=\"medium\" icon=\"iconfont small left icon-build\" type=\"primary\">{{ $t('build') }}</el-button>\n                    <el-button v-if=\"buildDetail.status == 1\" @click=\"stopBuildHandler\" size=\"medium\" type=\"warning\" icon=\"iconfont small left icon-stop\">{{ $t('forced_termination') }}</el-button>\n                </template>\n                <el-row class=\"app-mt-20\" :gutter=\"20\">\n                    <el-col :span=\"10\">\n                        <span class=\"sp-title\">{{ $t('last_buid_time') }}:</span>\n                        <span v-if=\"buildDetail.start_time\">{{ $root.FormatDateTime(buildDetail.start_time) }}</span>\n                        <span v-if=\"buildDetail.finish_time\"> - {{ $t('cost_time') }}: {{ $root.FormatDateDuration((buildDetail.finish_time-buildDetail.start_time) * 1000) }}</span>\n                    </el-col>\n                    <el-col :span=\"14\">\n                        <span class=\"sp-title\">{{ $t('status') }}:</span>\n                        <span>\n                            <span v-if=\"isStopBuildLoading && buildDetail.status == 1\" class=\"app-color-warning\">\n                                {{ $t('stopping') }}...\n                            </span>\n                            <span v-else-if=\"buildDetail.status == 1\" class=\"app-color-info\">{{ $t('building') }}...</span>\n                            <span v-else-if=\"buildDetail.status == 2\" class=\"app-color-success\">{{ $t('build_finish') }}</span>\n                            <span v-else-if=\"buildDetail.status == 3\" class=\"app-color-error\">{{ $t('build_failed') }}</span>\n                            <span v-else>\n                                {{ $t('unbuild') }}\n                            </span>\n                        </span>\n                    </el-col>\n                </el-row>\n                <el-row class=\"app-mt-20\" :gutter=\"20\">\n                    <el-col :span=\"10\">\n                        <span class=\"sp-title\">{{ $t('build_log') }}:</span>\n                        <span v-if=\"buildDetail.status == 2 || buildDetail.status == 3\">\n                            <span @click=\"openDialogBuildHandler\" class=\"app-link\">{{ $t('view') }}</span>\n                        </span>\n                    </el-col>\n                    <el-col :span=\"14\">\n                        <span class=\"sp-title\">{{ $t('tar_pack_path') }}:</span>\n                        <span v-if=\"buildDetail.tar\">{{ buildDetail.tar }}</span>\n                        <span v-else>{{ $t('uncreate') }}</span>\n                    </el-col>\n                </el-row>\n            </div>\n            <div class=\"app-divider\"></div>\n            <div>\n                <el-button v-if=\"deployDetail.status == 1 || deployDetail.status == 2\" :loading=\"deployDetail.status == 2\" @click=\"startDeployHandler\" size=\"medium\" icon=\"iconfont small left icon-send\" type=\"primary\">{{ $t('deploy') }}</el-button>\n                <el-button v-if=\"deployDetail.status == 4\" :loading=\"deployDetail.status == 2\" @click=\"startDeployHandler\" size=\"medium\" icon=\"iconfont small left icon-send\" type=\"primary\">{{ $t('rebuild') }}</el-button>\n                <el-button v-if=\"deployDetail.status == 2\" @click=\"stopDeployHandler\" size=\"medium\" icon=\"iconfont small left icon-stop\" type=\"warning\">{{ $t('forced_termination') }}</el-button>\n                <div v-if=\"(deployDetail.status == 3 || deployDetail.status == 4) && applyDetail.rollback_id\">\n                    <el-button icon=\"iconfont small left icon-rollback\" size=\"medium\" @click=\"rollbackDeployHandler\" type=\"danger\">{{ $t('rollback') }}</el-button>\n                    <el-alert class=\"app-mt-10\" :title=\"$t('rollback_apply_order_tips')\" type=\"warning\"></el-alert>\n                </div>\n                <div v-if=\"deployDetail.status == 6\">\n                    <el-alert type=\"warning\" show-icon :closable=\"false\">\n                        <template slot=\"title\">\n                            <strong>{{ $t('rollback_created') }}</strong>\n                            -\n                            <strong v-if=\"applyDetail.rollback_status == 1\">{{ $t('rollback_unstart') }}</strong>\n                            <strong v-else-if=\"applyDetail.rollback_status == 2\">{{ $t('rollbacking') }}</strong>\n                            <strong v-else-if=\"applyDetail.rollback_status == 3\">{{ $t('rollback_success') }}</strong>\n                            <strong v-else-if=\"applyDetail.rollback_status == 4\">{{ $t('rollback_failed') }}</strong>\n                            <strong v-else-if=\"applyDetail.rollback_status == 5\">{{ $t('rollback_drop') }}</strong>\n                            <strong v-else>{{ $t('rollback_unknow') }}</strong>\n                            -\n                            <a class=\"app-link\" :href=\"'/deploy/release?id=' + applyDetail.rollback_apply_id\" target=\"_blank\">{{ $t('click_to_view_rollback_order') }}</a>\n                        </template>\n                    </el-alert>\n                </div>\n                <el-card shadow=\"never\" class=\"app-mt-20 app-cluster-group\">\n                    <div slot=\"header\">{{ $t('cluster_list') }}</div>\n                    <el-collapse :value=\"projectDetail.online_cluster_ids\">\n                        <el-collapse-item class=\"app-cluster-item\" v-for=\"c in onlineCluster\" :name=\"c.id\" :key=\"c.id\">\n                            <template slot=\"title\">\n                                <i class=\"iconfont small left icon-cluster\"></i>\n                                {{ c.name }}&nbsp;&nbsp;\n                                <span v-if=\"deployDetail.groupStatus[c.id] == 0\" class=\"app-color-gray\"><i class=\"iconfont small left icon-wait\"></i>{{ $t('wait_deploy') }}</span>\n                                <span v-else-if=\"deployDetail.groupStatus[c.id] == 1\" class=\"app-color-info\"><i class=\"iconfont el-icon-loading\"></i>{{ $t('deploying') }}</span>\n                                <span v-else-if=\"deployDetail.groupStatus[c.id] == 2\" class=\"app-color-success\"><i class=\"iconfont small left icon-success\"></i>{{ $t('deploy_success') }}</span>\n                                <span v-else-if=\"deployDetail.groupStatus[c.id] == 3\" class=\"app-color-error\"><i class=\"iconfont small left icon-failed\"></i>{{ $t('deploy_failed') }}</span>\n                                <span v-else-if=\"deployDetail.groupStatus[c.id] == 4\" class=\"app-color-warning\"><i class=\"iconfont small left icon-stop\"></i>{{ $t('be_deined') }}</span>\n                            </template>\n                            <div class=\"app-item\" v-for=\"s in c.servers\" :key=\"s.id\">\n                                <i class=\"iconfont small left icon-server\"></i>\n                                {{ s.ip }} - {{ s.name }}\n                                <span v-if=\"deployDetail.servers[s.id] == undefined\"></span>\n                                <span v-else-if=\"deployDetail.servers[s.id].status == 0\" class=\"app-color-gray\"><i class=\"iconfont small left icon-wait\"></i></span>\n                                <span v-else-if=\"deployDetail.servers[s.id].status == 1\" class=\"app-color-info\"><i class=\"iconfont el-icon-loading\"></i></span>\n                                <span v-else-if=\"deployDetail.servers[s.id].status == 2\" class=\"app-color-success\"><i class=\"iconfont small left icon-success\"></i> <span @click=\"openDialogDeployHandler(deployDetail.servers[s.id])\" class=\"app-link\">{{ $t('view') }}</span></span>\n                                <span v-else-if=\"deployDetail.servers[s.id].status == 3\" class=\"app-color-error\"><i class=\"iconfont small left icon-failed\"></i> <span @click=\"openDialogDeployHandler(deployDetail.servers[s.id])\" class=\"app-link\">{{ $t('view') }}</span></span>\n                                <span v-else-if=\"deployDetail.servers[s.id].status == 4\" class=\"app-color-warning\"><i class=\"iconfont small left icon-stop\"></i></span>\n                            </div>\n                        </el-collapse-item>\n                    </el-collapse>\n                </el-card>\n            </div>\n        </el-card>\n        <el-dialog\n        :width=\"$root.DialogNormalWidth\"\n        :title=\"$t('build_log')\"\n        :visible.sync=\"dialogBuildVisible\"\n        @close=\"closeDialogBuildHandler\">\n            <div v-if=\"buildDetail.status == 3\"><i class=\"app-color-error el-icon-warning\"></i> {{ $t('build_failed') }}: <span v-if=\"buildDetail.errmsg\" class=\"app-color-error\">{{ buildDetail.errmsg }}</span></div>\n            <div v-if=\"buildDetail.status == 2\"><i class=\"app-color-success el-icon-success\"></i> {{ $t('build_finish') }}</div>\n            <div class=\"app-terminal-log\">\n                <template v-for=\"(cmd, index) in buildDetail.output\">\n                    <div :key=\"index\">\n                        <div class=\"terminal-cmd\" :class=\"{ 'app-color-success': cmd.success, 'app-color-error': !cmd.success}\">\n                            [cmd] $ {{ cmd.cmd }}\n                            <span v-if=\"cmd.success\" class=\"iconfont icon-right\"></span>\n                            <span v-else class=\"iconfont icon-wrong\"></span>\n                        </div>\n                        <div><pre>{{ cmd.stdout }}</pre></div>\n                        <div><pre>{{ cmd.stderr }}</pre></div>\n                    </div>\n                </template>\n            </div>\n        </el-dialog>\n\n        <el-dialog\n        :width=\"$root.DialogNormalWidth\"\n        :title=\"$t('deploy_log')\"\n        :visible.sync=\"dialogDeployVisible\"\n        @close=\"closeDialogDeployHandler\">\n            <div v-if=\"serverDeployDetail.status == 3\"><i class=\"app-color-error el-icon-warning\"></i> {{ $t('deploy_failed') }}: <span v-if=\"serverDeployDetail.errmsg\" class=\"app-color-error\">{{ serverDeployDetail.errmsg }}</span></div>\n            <div v-if=\"serverDeployDetail.status == 2\"><i class=\"app-color-success el-icon-success\"></i> {{ $t('deploy_success') }}</div>\n            <div class=\"app-terminal-log\">\n                <template v-for=\"(cmd, index) in serverDeployDetail.output\">\n                    <div :key=\"index\">\n                        <div class=\"terminal-cmd\" :class=\"{ 'app-color-success': cmd.success, 'app-color-error': !cmd.success}\">\n                            [cmd] $ {{ cmd.cmd }}\n                            <span v-if=\"cmd.success\" class=\"iconfont icon-right\"></span>\n                            <span v-else class=\"iconfont icon-wrong\"></span>\n                        </div>\n                        <div><pre>{{ cmd.stdout }}</pre></div>\n                        <div><pre>{{ cmd.stderr }}</pre></div>\n                    </div>\n                </template>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport { applyDetailApi, applyProjectDetailApi, buildStartApi, buildStatusApi, buildStopApi, deployStart, deployStatusApi, deployStopApi, deployRollbackApi } from '@/api/deploy'\nimport Code from '@/lib/code'\nexport default {\n    data(){\n        return {\n            id: 0,\n            applyDetail: {},\n            projectDetail: {},\n            buildDetail: {},\n            deployDetail: {},\n            dialogBuildVisible: false,\n            isStopBuildLoading: false,\n            onlineCluster: {},\n\n            dialogDeployVisible: false,\n            serverDeployDetail: {},\n        }\n    },\n    watch: {\n        projectDetail() {\n            let clusters = []\n            this.projectDetail.online_cluster_ids.forEach(id => {\n                if (this.projectDetail.cluster_list[id]) {\n                    let cluster = this.projectDetail.cluster_list[id]\n                    let servers = []\n                    this.projectDetail.server_list.forEach(s => {\n                        if (s.group_id == id) {\n                            servers.push(s)\n                        }\n                    })\n                    clusters.push({\n                        id: cluster.id,\n                        name: cluster.name,\n                        servers: servers,\n                    })\n                }\n            })\n            this.onlineCluster = clusters\n        },\n    },\n    methods: {\n        rollbackDeployHandler() {\n            let vm = this\n            this.$root.ConfirmDelete(function(){\n                deployRollbackApi({id: vm.id}).then(res => {\n                    \n                })\n            }, this.$t('makesure_rollback_order'))\n        },\n        openDialogDeployHandler(srv) {\n            console.log(srv)\n            let arrOutput = []\n            try {\n                arrOutput = JSON.parse(srv.output)\n            } catch(err) { }\n            this.serverDeployDetail = {\n                status: srv.status,\n                errmsg: srv.errmsg,\n                output: arrOutput,\n            }\n            this.dialogDeployVisible = true\n        },\n        closeDialogDeployHandler() {\n            this.dialogDeployVisible = false\n        },\n        closeDialogBuildHandler() {\n            this.dialogBuildVisible = false\n        },\n        openDialogBuildHandler() {\n            this.dialogBuildVisible = true\n        },\n        startBuildHandler() {\n            buildStartApi({id: this.id}).then(res => {\n                this.loadBuildStatus()\n            })\n        },\n        stopBuildHandler() {\n            buildStopApi({id: this.id}).then(res => {\n                this.isStopBuildLoading = true\n            })\n        },\n        startDeployHandler() {\n            deployStart({id: this.id}).then(res => {\n                this.loadDeployStatus()\n            }).catch(err => {\n                if (err.code == Code.CODE_ERR_NO_DATA) {\n                    this.$confirm(this.$t('build_success_and_deploy'), this.$t('deploy_tips'), {\n                        confirmButtonText: this.$t('start_build'),\n                        cancelButtonText: this.$t('i_known'),\n                        type: 'warning',\n                    }).then(() => {\n                        this.startBuildHandler()\n                    }).catch(() => { })\n                }\n            })\n        },\n        stopDeployHandler() {\n            deployStopApi({id: this.id}).then(res => {\n\n            })\n        },\n        deployStatusDetail(detail) {\n            let groupStatus = {}\n            let servers = {}\n            if (detail.task_list) {\n                let groupStatusList = {}\n                let groupIds = []\n                detail.task_list.forEach(srv => {\n                    if (!groupStatusList[srv.group_id]) {\n                        groupStatusList[srv.group_id] = []\n                    }\n                    groupIds.push(srv.group_id)\n                    groupStatusList[srv.group_id].push(srv.status)\n                    servers[srv.server_id] = srv\n                })\n                groupIds.forEach(gid => {\n                    let none = groupStatusList[gid].indexOf(0) > -1\n                    let ing = groupStatusList[gid].indexOf(1) > -1\n                    let done = groupStatusList[gid].indexOf(2) > -1\n                    let failed = groupStatusList[gid].indexOf(3) > -1\n                    let terminate = groupStatusList[gid].indexOf(4) > -1\n                    let status = 2 // 0 - unstart, 1 - starting, 2 - done , 3 - failed, 4 - terminate\n                    if (none) {\n                        if (ing || done || failed) {\n                            status = 1\n                        } else if (terminate) {\n                            status = 4\n                        } else {\n                            status = 0\n                        }\n                    } else if (ing) {\n                        status = 1\n                    } else if (done) {\n                        if (terminate) {\n                            status = 4\n                        } else if (failed) {\n                            status = 3\n                        } else {\n                            status = 2\n                        }\n                    } else if (failed) {\n                        if (terminate) {\n                            status = 4\n                        } else {\n                            status = 3\n                        }\n                    } else {\n                        status = 4\n                    }\n                    groupStatus[gid] = status\n                })\n            }\n            this.deployDetail = {\n                status: detail.status,\n                groupStatus: groupStatus,\n                servers: servers,\n            }\n        },\n        loadBuildStatus() {\n            buildStatusApi({id: this.id}).then(res => {\n                this.buildDetail = res\n                if (res.status == 1) {\n                    let vm = this\n                    setTimeout(function() {\n                        vm.loadBuildStatus()\n                    }, 5000)\n                } else {\n                    this.isStopBuildLoading = false\n                }\n            })\n        },\n        loadDeployStatus() {\n            deployStatusApi({id: this.id}).then(res => {\n                this.deployStatusDetail(res)\n                if (res.status == 2) {\n                    let vm = this\n                    setTimeout(function() {\n                        vm.loadDeployStatus()\n                    }, 5000)\n                }\n            })\n        },\n        initApplyDetail() {\n            applyDetailApi({id: this.id}).then(res => {\n                this.applyDetail = res\n                applyProjectDetailApi({id: this.applyDetail.project_id}).then(res => {\n                    this.projectDetail = res\n                })\n            })\n        },\n    },\n    mounted() {\n        this.id = this.$route.query.id\n        this.initApplyDetail()\n        this.loadBuildStatus()\n        this.loadDeployStatus()\n    },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Release.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Release.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Release.vue?vue&type=template&id=d393e3fe&\"\nimport script from \"./Release.vue?vue&type=script&lang=js&\"\nexport * from \"./Release.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Release.vue\"\nexport default component.exports","import {get, post} from '@/lib/fetch.js'\n\nexport function applyProjectDetailApi(params) {\n    return get('/deploy/apply/project/detail', params)\n}\n\nexport function applySubmitApi(data) {\n    return post('/deploy/apply/submit', data)\n}\n\nexport function applyProjectAllApi() {\n    return get('/deploy/apply/project/all')\n}\n\nexport function applyListApi(params) {\n    return get('/deploy/apply/list', params)\n}\n\nexport function applyDetailApi(params) {\n    return get('/deploy/apply/detail', params)\n}\n\nexport function applyAuditApi(data) {\n    return post('/deploy/apply/audit', data)\n}\n\nexport function applyUpdateApi(data) {\n    return post('/deploy/apply/update', data)\n}\n\nexport function applyDropApi(data) {\n    return post('/deploy/apply/drop', data)\n}\n\nexport function applyRollbackListApi(params) {\n    return get('/deploy/apply/rollbacklist', params)\n}\n\nexport function buildStartApi(data) {\n    return post('/deploy/build/start', data)\n}\n\nexport function buildStatusApi(params) {\n    return get('/deploy/build/status', params)\n}\n\nexport function buildStopApi(data) {\n    return post('/deploy/build/stop', data)\n}\n\nexport function deployStart(data) {\n    return post('/deploy/deploy/start', data)\n}\n\nexport function deployStatusApi(params) {\n    return get('/deploy/deploy/status', params)\n}\n\nexport function deployStopApi(data) {\n    return post('/deploy/deploy/stop', data)\n}\n\nexport function deployRollbackApi(data) {\n    return post('/deploy/deploy/rollback', data)\n}","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n"],"sourceRoot":""}